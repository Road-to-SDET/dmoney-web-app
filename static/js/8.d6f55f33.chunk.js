(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[8],{36:function(e,t,a){"use strict";var s=a(38),c=a(13),n=a(12),i=a(15),r=a(16),l=a(0),d=a.n(l),o=a(25),j=a(3),b=function(){var e=localStorage.getItem("role"),t=localStorage.getItem("email"),a=function(){localStorage.clear(),window.location.href="/login"};return"Admin"===e||"Agent"===e||"Customer"===e||"Merchant"===e?Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light fixed-top border-bottom",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(j.jsxs)("ul",{className:"navbar-nav ms-auto mt-2 mt-lg-0",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{"data-bs-toggle":"modal","data-bs-target":"#add-lead-modal",className:"nav-link highlighted-text",href:"#!",children:t})}),Object(j.jsxs)("li",{className:"nav-item dropdown notifications",children:[Object(j.jsx)("a",{className:"nav-link",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(j.jsx)("i",{className:"fa fa-user-circle","aria-hidden":"true"})}),Object(j.jsxs)("div",{className:"dropdown-menu dropdown-menu-end","aria-labelledby":"navbarDropdown",children:[Object(j.jsxs)(o.b,{className:"dropdown-item",to:"/my-profile",children:[Object(j.jsx)("i",{class:"fa fa-user","aria-hidden":"true"})," Profile"]}),Object(j.jsx)("div",{className:"dropdown-divider"}),Object(j.jsxs)(o.b,{className:"dropdown-item",onClick:a,children:[Object(j.jsx)("i",{class:"fa fa-sign-out","aria-hidden":"true"})," Sign out"]})]})]})]})})]})}):void 0},u=(a(41),a(42)),h=a.n(u),m=a(2),O=function(){var e=localStorage.getItem("role"),t=Object(m.m)();return"Admin"===e?Object(j.jsxs)("div",{className:"border-end sidenav",id:"sidebar-wrapper",children:[Object(j.jsx)("div",{className:"sidebar-heading border-bottom ",children:Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("h5",{children:"Dmoney"})})}),Object(j.jsx)(h.a,{className:"sidebar-items",children:Object(j.jsxs)("ul",{className:"list-unstyled ps-0",children:[Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/user-list",children:[Object(j.jsx)("i",{class:"fa fa-users","aria-hidden":"true"})," User List"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/create-user",children:[Object(j.jsx)("i",{class:"fa fa-user-plus","aria-hidden":"true"})," Create User"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/transaction",children:[Object(j.jsx)("i",{class:"fa fa-exchange","aria-hidden":"true"})," Transaction"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/system-balance",children:[Object(j.jsx)("i",{class:"fa fa-money","aria-hidden":"true"})," System Balance"]})})]})})]}):"Agent"===e?Object(j.jsxs)("div",{className:"border-end sidenav",id:"sidebar-wrapper",children:[Object(j.jsx)("div",{className:"sidebar-heading border-bottom ",children:Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("h5",{children:"Dmoney"})})}),Object(j.jsx)(h.a,{className:"sidebar-items",children:Object(j.jsxs)("ul",{className:"list-unstyled ps-0",children:[Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/statement",children:[Object(j.jsx)("i",{class:"fa fa-file-text-o","aria-hidden":"true"})," Statement"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/payment",children:[Object(j.jsx)("i",{class:"fa fa-paper-plane","aria-hidden":"true"})," Payment"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/deposit",children:[Object(j.jsx)("i",{class:"fa fa-paper-plane","aria-hidden":"true"})," Deposit"]})})]})})]}):"Customer"===e?Object(j.jsxs)("div",{className:"border-end sidenav",id:"sidebar-wrapper",children:[Object(j.jsx)("div",{className:"sidebar-heading border-bottom ",children:Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("h5",{children:"Dmoney"})})}),Object(j.jsx)(h.a,{className:"sidebar-items",children:Object(j.jsxs)("ul",{className:"list-unstyled ps-0",children:[Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/statement",children:[Object(j.jsx)("i",{class:"fa fa-file-text-o","aria-hidden":"true"})," Statement"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/send-money",children:[Object(j.jsx)("i",{class:"fa fa-paper-plane","aria-hidden":"true"})," Send Money"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/withdraw",children:[Object(j.jsx)("i",{class:"fa fa-paper-plane","aria-hidden":"true"})," Withdraw"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/payment",children:[Object(j.jsx)("i",{class:"fa fa-paper-plane","aria-hidden":"true"})," Payment"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/user-limit",children:[Object(j.jsx)("i",{class:"fa fa-ban","aria-hidden":"true"})," Limit"]})})]})})]}):"Merchant"===e?Object(j.jsxs)("div",{className:"border-end sidenav",id:"sidebar-wrapper",children:[Object(j.jsx)("div",{className:"sidebar-heading border-bottom ",children:Object(j.jsx)(o.b,{to:"/",children:Object(j.jsx)("h5",{children:"Dmoney"})})}),Object(j.jsx)(h.a,{className:"sidebar-items",children:Object(j.jsxs)("ul",{className:"list-unstyled ps-0",children:[Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/statement",children:[Object(j.jsx)("i",{class:"fa fa-file-text-o","aria-hidden":"true"})," Statement"]})}),Object(j.jsx)("li",{className:"mb-1",children:Object(j.jsxs)(o.b,{tag:"a",className:"",to:"/withdraw",children:[Object(j.jsx)("i",{class:"fa fa-paper-plane","aria-hidden":"true"})," Withdraw"]})})]})})]}):void t("/login")},x=a(43);t.a=function(e){return function(t){Object(i.a)(l,t);var a=Object(r.a)(l);function l(e){var t;return Object(c.a)(this,l),(t=a.call(this,e)).handleParentData=function(e){console.log(e)},t.state={pageLoaded:!1,saveLeadClickEvent:""},t}return Object(n.a)(l,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState((function(){return{pageLoaded:!0}}))}),1e3)}},{key:"renderHtml",value:function(){return this.state.pageLoaded?Object(j.jsxs)("div",{className:"d-flex",id:"wrapper",children:[Object(j.jsx)(O,{}),Object(j.jsxs)("div",{className:"main",id:"page-content-wrapper",children:[Object(j.jsx)(b,{}),Object(j.jsx)("div",{className:"container-fluid content-container",children:Object(j.jsx)(e,Object(s.a)({},this.props))})]})]}):Object(j.jsx)("div",{className:"loading-page",children:Object(j.jsx)("div",{className:"center",children:Object(j.jsx)(x.Preloader,{use:x.Bars,size:60,strokeWidth:10,strokeColor:"#f7b085",duration:600})})})}},{key:"addLeadModalFooterContent",value:function(){var e=this;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{style:{width:"100%"},children:Object(j.jsx)("button",{onClick:function(t){return e.setState((function(){return{saveLeadClickEvent:(Math.random()+1).toString(36).substring(7)}}))},className:"btn btn-default low-height-btn",children:"Add Lead"})})})}},{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:this.renderHtml()})}}]),l}(d.a.Component)}},45:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var s=a(4),c=a(7),n=a(5),i=a(0),r=a(36),l=a(94),d=(a(45),a(39)),o=a.n(d),j=a(3);t.default=Object(r.a)((function(){var e=Object(i.useState)([]),t=Object(n.a)(e,2),a=t[0],r=t[1],d=Object(i.useState)(!1),b=Object(n.a)(d,2),u=b[0],h=b[1],m=Object(i.useState)(""),O=Object(n.a)(m,2),x=O[0],f=O[1],p=Object(i.useState)(null),g=Object(n.a)(p,2),N=g[0],v=(g[1],Object(i.useState)("")),y=Object(n.a)(v,2),w=y[0],S=y[1],k=Object(i.useState)({key:null,direction:"ascending"}),C=Object(n.a)(k,2),L=C[0],_=C[1],D=Object(i.useState)(1),A=Object(n.a)(D,2),I=A[0],T=A[1],M=Object(i.useState)(30),E=Object(n.a)(M,2),P=E[0],U=(E[1],Object(i.useState)(null)),F=Object(n.a)(U,2),J=(F[0],F[1]),K=Object(i.useState)(!1),W=Object(n.a)(K,2);W[0],W[1];function z(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}var B=localStorage.getItem("user"),H=JSON.parse(B),R=null===H||void 0===H?void 0:H.phone_number;Object(i.useEffect)((function(){function e(){return e=Object(c.a)(Object(s.a)().mark((function e(){var t,a,c;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Authorization:localStorage.getItem("token"),"X-Auth-Secret-Key":"ROADTOSDET"},a={headers:t},e.prev=2,e.next=5,l.a.get("/transaction/list",a);case 5:return c=e.sent,r(c.data.transactions),h(!1),0===c.data.length&&f("No data found"),e.next=11,l.a.get("/transaction/balance/".concat(R),a).then((function(e){var t;console.log(e.data),J(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.balance)})).catch((function(e){console.log(e)}));case 11:e.next=21;break;case 13:if(e.prev=13,e.t0=e.catch(2),401!==e.t0.response.status){e.next=18;break}return window.location.href="/login",e.abrupt("return");case 18:h(!1),f("Error fetching data"),o.a.fire("Error",e.t0.response.data.message||"Something went wrong","error");case 21:case"end":return e.stop()}}),e,null,[[2,13]])}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[localStorage.getItem("token")]);var X=function(e){var t="ascending";L.key===e&&"ascending"===L.direction&&(t="descending"),_({key:e,direction:t})},q=function(e){T(e)},G=a.filter((function(e){return e.account.toLowerCase().includes(w.toLowerCase())||e.description.toLowerCase().includes(w.toLowerCase())||e.id.toString().toLowerCase().includes(w.toLowerCase())})).sort((function(e,t){if(null!==L.key){if(e[L.key]<t[L.key])return"ascending"===L.direction?-1:1;if(e[L.key]>t[L.key])return"ascending"===L.direction?1:-1}return 0})),Q=I*P,V=Q-P,Y=G.slice(V,Q),Z=Math.ceil(G.length/P);return u?Object(j.jsx)("div",{children:"Loading..."}):N?Object(j.jsxs)("div",{children:["Error: ",N.message]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsxs)("div",{className:"row mb-2",children:[Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("h5",{className:"pb-2 mb-0",children:"Transaction List"})}),Object(j.jsx)("div",{className:"col"}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"Search list",value:w,onChange:function(e){return S(e.target.value)}})})]}),Object(j.jsx)("div",{className:"d-flex text-muted",children:u?Object(j.jsx)("p",{children:"Loading..."}):x?Object(j.jsx)("p",{children:x}):Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsxs)("th",{onClick:function(){return X("id")},children:[Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"Id"]}),Object(j.jsxs)("th",{onClick:function(){return X("account")},children:[Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"Account"]}),Object(j.jsxs)("th",{onClick:function(){return X("from_account")},children:[Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"From"]}),Object(j.jsxs)("th",{onClick:function(){return X("to_account")},children:[Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"To"]}),Object(j.jsxs)("th",{onClick:function(){return X("description")},children:[" ",Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"Description"]}),Object(j.jsxs)("th",{onClick:function(){return X("trnxId")},children:[" ",Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"Trnx Id"]}),Object(j.jsxs)("th",{onClick:function(){return X("debit")},children:[Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"Debit"]}),Object(j.jsxs)("th",{onClick:function(){return X("credit")},children:[Object(j.jsx)("i",{className:"fa fa-sort","aria-hidden":"true"}),"Credit"]}),Object(j.jsx)("th",{children:"Created"}),Object(j.jsx)("th",{children:"Updated"})]})}),Object(j.jsx)("tbody",{children:Y.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.id}),Object(j.jsx)("td",{children:e.account}),Object(j.jsx)("td",{children:e.from_account}),Object(j.jsx)("td",{children:e.to_account}),Object(j.jsx)("td",{children:e.description}),Object(j.jsx)("td",{children:e.trnxId}),Object(j.jsxs)("td",{children:[e.debit.toLocaleString("en-US")," TK"]}),Object(j.jsxs)("td",{children:[e.credit.toLocaleString("en-US")," TK"]}),Object(j.jsx)("td",{children:z(e.createdAt)}),Object(j.jsx)("td",{children:z(e.updatedAt)})]},e.id)}))})]})}),Object(j.jsxs)("div",{className:"pagination",children:[Object(j.jsx)("button",{className:"pagination__button",onClick:function(){return q(I-1)},disabled:1===I,children:"Prev"}),I>3&&Object(j.jsx)("button",{className:"pagination__button",onClick:function(){return q(1)},children:"1"}),I>4&&Object(j.jsx)("span",{className:"pagination__ellipsis",children:"..."}),Array.from({length:Z},(function(e,t){return t+1})).filter((function(e){return 1===e||e===Z||Math.abs(e-I)<2||I<4&&e<6||I>Z-4&&e>Z-6})).map((function(e){return Object(j.jsx)("button",{className:"pagination__button ".concat(e===I?"pagination__button--active":""),onClick:function(){return q(e)},children:e},e)})),I<Z-3&&Object(j.jsx)("span",{className:"pagination__ellipsis",children:"..."}),I<Z-2&&Object(j.jsx)("button",{className:"pagination__button",onClick:function(){return q(Z)},children:Z}),Object(j.jsx)("button",{className:"pagination__button",onClick:function(){return q(I+1)},disabled:I===Z,children:"Next"})]})]})})})}))}}]);
//# sourceMappingURL=8.d6f55f33.chunk.js.map