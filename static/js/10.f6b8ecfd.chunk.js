(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[10],{36:function(e,t,a){"use strict";var r=a(4),n=a(7),c=a(92).a.create({baseURL:"https://dmoney.roadtocareer.net"});c.interceptors.request.use(function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.headers["Content-Type"]="application/json",t.headers["X-Auth-Secret-Key"]="ROADTOSDET",e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.interceptors.response.use((function(e){return 401===e.status&&(window.location.href="/login"),e})),t.a=c},58:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var r=a(4),n=a(7),c=a(5),s=a(0),o=a.n(s),l=(a(58),a(39)),i=a(13),u=a(12),m=a(15),d=a(16),j=a(3),b=function(e){return function(t){Object(m.a)(r,t);var a=Object(d.a)(r);function r(e){var t;return Object(i.a)(this,r),(t=a.call(this,e)).state={},t}return Object(u.a)(r,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("section",{className:"vh-100",children:Object(j.jsx)("div",{className:"container-fluid h-custom",children:Object(j.jsxs)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:[Object(j.jsx)("div",{className:"col-md-3 col-lg-3 col-xl-3",children:Object(j.jsx)("img",{alt:"hey",src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",className:"img-fluid"})}),Object(j.jsx)("div",{className:"col-md-10 col-lg-8 col-xl-6 offset-xl-1",children:Object(j.jsx)(e,Object(l.a)({},this.props))})]})})})})}}]),r}(o.a.Component)},h=a(36),f=a(40),p=a.n(f);t.default=b((function(){localStorage.clear();var e=Object(s.useState)(""),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(s.useState)(""),i=Object(c.a)(l,2),u=i[0],m=i[1],d=function(){var e=Object(n.a)(Object(r.a)().mark((function e(t){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),localStorage.setItem("email",a),e.prev=2,e.next=5,h.a.post("/user/login",{email:a,password:u},{headers:{"Content-Type":"application/json"}});case 5:return c=e.sent,localStorage.setItem("token",c.data.token),localStorage.setItem("role",c.data.role),e.next=10,h.a.get("/user/list",{headers:{Authorization:null===c||void 0===c||null===(n=c.data)||void 0===n?void 0:n.token,"X-Auth-Secret-Key":"ROADTOSDET"}}).then((function(e){var t,r,n=null===(t=e.data)||void 0===t||null===(r=t.users)||void 0===r?void 0:r.find((function(e){return e.email===a}));n?localStorage.setItem("user",JSON.stringify(n)):localStorage.setItem("user",null)})).catch((function(e){localStorage.setItem("user",null)}));case 10:"Admin"===c.data.role?window.location.href="/user-list":"Agent"===c.data.role||"Customer"===c.data.role||"Merchant"===c.data.role?window.location.href="/statement":(localStorage.clear(),window.location.href="/login"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),p.a.fire("Error",e.t0.response.data.message||"Something went wrong","error");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("form",{className:"login-form",onSubmit:d,children:[Object(j.jsx)("h1",{className:"mt-5",children:"Welcome to D-money Finance"}),Object(j.jsx)("div",{className:"d-flex align-items-center my-4 mt-5",children:Object(j.jsx)("h1",{className:"text-center fw-normal mb-0 me-3",children:"Sign In"})}),Object(j.jsxs)("div",{className:"form-outline mb-4",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Email address"}),Object(j.jsx)("input",{type:"email",id:"form3Example3",className:"form-control form-control-lg",placeholder:"Enter a valid email address",name:"username",value:a,onChange:function(e){return o(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-outline mb-3",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"form3Example4",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"form3Example4",className:"form-control form-control-lg",placeholder:"Enter password",value:u,onChange:function(e){return m(e.target.value)}})]}),Object(j.jsx)("div",{className:"text-center text-lg-start mt-4 pt-2",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Login"})})]})})}))}}]);
//# sourceMappingURL=10.f6b8ecfd.chunk.js.map