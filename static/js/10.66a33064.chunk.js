(this["webpackJsonpreact-ui"]=this["webpackJsonpreact-ui"]||[]).push([[10],{58:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(7),l=a(5),o=a(0),c=a.n(o),s=(a(58),a(38)),i=a(13),m=a(12),d=a(15),u=a(16),j=a(3),b=function(e){return function(t){Object(d.a)(n,t);var a=Object(u.a)(n);function n(e){var t;return Object(i.a)(this,n),(t=a.call(this,e)).state={},t}return Object(m.a)(n,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("section",{className:"vh-100",children:Object(j.jsx)("div",{className:"container-fluid h-custom",children:Object(j.jsxs)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:[Object(j.jsx)("div",{className:"col-md-3 col-lg-3 col-xl-3",children:Object(j.jsx)("img",{alt:"hey",src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",className:"img-fluid"})}),Object(j.jsx)("div",{className:"col-md-10 col-lg-8 col-xl-6 offset-xl-1",children:Object(j.jsx)(e,Object(s.a)({},this.props))})]})})})})}}]),n}(c.a.Component)},h=a(94),f=a(39),p=a.n(f),g=a(70);t.default=b((function(){localStorage.clear();var e=Object(o.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(o.useState)(""),i=Object(l.a)(s,2),m=i[0],d=i[1],u=function(){var e=Object(r.a)(Object(n.a)().mark((function e(t){var r,l;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),localStorage.setItem("email",a),e.prev=2,e.next=5,h.a.post("/user/login",{email:a,password:m},{headers:{"Content-Type":"application/json"}});case 5:return l=e.sent,localStorage.setItem("token",l.data.token),console.log(l.data.role),localStorage.setItem("role",l.data.role),e.next=11,h.a.get("/user/list",{headers:{Authorization:null===l||void 0===l||null===(r=l.data)||void 0===r?void 0:r.token,"X-Auth-Secret-Key":"ROADTOSDET"}}).then((function(e){var t,n;console.log(e.data);var r=null===(t=e.data)||void 0===t||null===(n=t.users)||void 0===n?void 0:n.find((function(e){return e.email===a}));r?localStorage.setItem("user",JSON.stringify(r)):localStorage.setItem("user",null)})).catch((function(e){console.log(e),localStorage.setItem("user",null)}));case 11:"Admin"===l.data.role?window.location.href="/user-list":"Agent"===l.data.role||"Customer"===l.data.role||"Merchant"===l.data.role?window.location.href="/statement":(localStorage.clear(),window.location.href="/login"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),p.a.fire("Error",e.t0.response.data.message||"Something went wrong","error");case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{children:Object(j.jsx)("meta",{"http-equiv":"Permissions-Policy",content:"interest-cohort=()"})}),Object(j.jsxs)("form",{className:"login-form",onSubmit:u,children:[Object(j.jsx)("h1",{className:"mt-5",children:"Welcome to D-money Finance"}),Object(j.jsx)("div",{className:"d-flex align-items-center my-4 mt-5",children:Object(j.jsx)("h1",{className:"text-center fw-normal mb-0 me-3",children:"Sign In"})}),Object(j.jsxs)("div",{className:"form-outline mb-4",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"form3Example3",children:"Email address"}),Object(j.jsx)("input",{type:"email",id:"form3Example3",className:"form-control form-control-lg",placeholder:"Enter a valid email address",name:"username",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(j.jsxs)("div",{className:"form-outline mb-3",children:[Object(j.jsx)("label",{className:"form-label",htmlFor:"form3Example4",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"form3Example4",className:"form-control form-control-lg",placeholder:"Enter password",value:m,onChange:function(e){return d(e.target.value)}})]}),Object(j.jsx)("div",{className:"text-center text-lg-start mt-4 pt-2",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:"Login"})})]})]})}))}}]);
//# sourceMappingURL=10.66a33064.chunk.js.map